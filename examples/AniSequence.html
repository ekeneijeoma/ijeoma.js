<script language="javascript" src="p5.js"></script>
<script language="javascript" src="../build/ijeomamotion.js"></script>
<script language="javascript">
var x, y, diameter;
var s;

function setup() {
    createCanvas(512, 512);
    noStroke();

    x = 50;
    y = 50;
    diameter = 10;

    // s = new MOTION.Sequence().relative();
    // s.add(new MOTION.Tween(100).add('diameter', 55))
    // s.add(new MOTION.Tween(100).add('x', 400).add('y', 100))
    // s.add(new MOTION.Tween(100).add('x', 450).add('y', 400))
    // s.add(new MOTION.Tween(100).add('x', 100).add('y', 450))
    // s.add(new MOTION.Tween(100).add('x', 50).add('y', 50).add(this, 'diameter', 5))  
    // s.play();

    frames();
    s = beginSequence();
    relative();
    tween(25).add('diameter', 55)
    tween(25).add('x', 400).add('y', 100)
    tween(25).add('x', 450).add('y', 400)
    tween(25).add('x', 100).add('y', 450)
    tween(25).add('x', 50).add('y', 50).add(this, 'diameter', 5)
    endSequence();
    play(s);

    console.log(s.getTimeMode())
}

function draw() {
    fill(255, 255);
    rect(0, 0, width, height);

    fill(0);
    ellipse(x, y, diameter, diameter);

    fill(255, 0, 0)
    text(s.getTime() + ' ' + s.getPosition(), 25, 25)
    text(s.get(0).getTime() + ' ' + s.get(0).getPosition(), 25, 50)
    // text(s.get(1).getTime() + ' ' + s.get(1).getPosition(), 25, 75)
    // text(s.get(2).getTime(), 25, 100)
}

function mouseDragged() {
    s.seek(constrain(mouseX / width, 0, 1))
}

function keyPressed() {
    if (keyCode == LEFT_ARROW) {
        s.pause();
        s.seek(s.getPosition() - .01)
    } else if (keyCode == RIGHT_ARROW) {
        s.pause();
        s.seek(s.getPosition() + .01)
    } else if (key == 'a')
        s.pause();
    else if (key == 's')
        s.resume();
    else if (key == 'd')
        s.play();
    else if (key == 'f')
        s.stop();
}
</script>
<style>
body {
    padding: 0;
}
</style>
</head>

<body>
</body>