<head>
    <script language="javascript" src="p5.js"></script>
    <script language="javascript" src="../build/ijeomamotion.js"></script>
    <script language="javascript">
    var angles = [30, 10, 45, 35, 60, 38, 75, 67];

    var test = {}

    var t, t1, t2;
    var r;
    var d = 200;

    function setup() {
        createCanvas(720, 400);
        noStroke();
        angleMode(DEGREES);

        t1 = new MOTION.Tween(this, "x", width / 2, 100);
        t2 = new MOTION.Tween(this, "x", width - 50, 100);

        s = new MOTION.Sequence([t1, t2]);

        // var a = 0;
        // for (var i = 0; i < angles.length; i++) {
        //     s.add(new MOTION.Tween(this, 'r', a, 100))
        //     // s.add(new MOTION(0,2))
        //     a += angles[i]; 
        // }

        s.play()
    }

    function draw() {
        background(100);

        s.update()

        rectMode(CENTER)
        fill(0)
        rect(x, height / 2, 100, 100);


        fill(255)
        text(round(x), x, height / 2);

        text(s.getTime(), 25, 25)
        text(t1.getTime() + ' ' + t1.isPlaying(), 25, 50)
        text(t2.getTime() + ' ' + t2.isPlaying(), 25, 75)

        // console.log(r)
        // translate(width / 2, height / 2);
        // rotate(r);

        // pieChart(d, angles, 1);

        // ellipse(width/2,height/2,s*m.getPosition(),s*m.getPosition())
        // ellipse(width / 2, height / 2, s - s * m2.getPosition(), s - s * m2.getPosition())
    }

    function keyTyped() {
        if (key == 'a')
            s.pause();
        else if (key == 's')
            s.resume();
        else if (key == 'd')
            s.play();
        else if (key == 'f')
            s.stop();
    }

    function pieChart(diameter, data, t) {
        var lastAngle = 0;
        for (var i = 0; i < data.length; i++) {
            var gray = map(i, 0, data.length, 0, 255);
            fill(gray);
            arc(0, 0, diameter, diameter * t, lastAngle, lastAngle + radians(angles[i]));
            lastAngle += radians(angles[i]);
        }
    }
    </script>
    <style>
    body {
        padding: 0;
    }
    </style>
    <!-- this line removes any default padding -->
</head>

<body>
</body>