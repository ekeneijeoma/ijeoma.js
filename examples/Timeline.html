<!DOCTYPE html>
<html lang="en">

<head>
    <title>Tween.js / simplest possible example!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
    <script type="text/javascript" src="p5.js"></script>
    <script type="text/javascript" src="../build/ijeomamotion.js"></script>
    <script type="text/javascript">
    // alert('motiontest');
    var c1, c2, c3, c4, c5;
    var y1, y2, y3, y4, y5;
    var w;

    var tl;

    function setup() {
        createCanvas(600, 300);
        smooth();

        c1 = c2 = c3 = c4 = c5 = color(255);

        y1 = y3 = y5 = -height;
        y2 = y4 = height;

        w = width / 5;

        var d = 100;

        tl = new MOTION.Timeline();
        tl.add(new MOTION.Tween(d)
        	.add("y1", height)
        	.add("c1", color(0)), 0);
        tl.add(new MOTION.Tween(d)
        	.add("y2", -height)
        	.add("c2", color(0)), d);
        tl.add(new MOTION.Tween(d)
        	.add("y3", height)
        	.add("c3", color(0)), d * 2);
        tl.add(new MOTION.Tween(d)
        	.add("y4", -height)
        	.add("c4", color(0)), d * 3);
        tl.add(new MOTION.Tween(d)
        	.add("y5", height)
        	.add("c5", color(0)), d * 4);
        tl.repeat().reverse().play();
    }


    function draw() {
        background(255);

        noStroke();
        fill(0);

        noStroke();
        fill(c1);
        rect(0, y1, w, height);
        fill(c2);
        rect(w, y2, w, height);
        fill(c3);
        rect(w * 2, y3, w, height);
        fill(c4);
        rect(w * 3, y4, w, height);
        fill(c5);
        rect(w * 4, y5, w, height);

        var time = tl.get(0).getTime() + " / " + tl.get(0).getDuration();
        fill((tl.get(0).isPlaying() ? color(0, 255, 0) : color(255, 0, 0)));
        text(time, 0, height - 10);

        time = tl.get(1).getTime() + " / " + tl.get(1).getDuration();
        fill((tl.get(1).isPlaying() ? color(0, 255, 0) : color(255, 0, 0)));
        text(time, w, height - 10);

        time = tl.get(2).getTime() + " / " + tl.get(2).getDuration();
        fill((tl.get(2).isPlaying() ? color(0, 255, 0) : color(255, 0, 0)));
        text(time, w * 2, height - 10);

        time = tl.get(3).getTime() + " / " + tl.get(3).getDuration();
        fill((tl.get(3).isPlaying() ? color(0, 255, 0) : color(255, 0, 0)));
        text(time, w * 3, height - 10);

        time = tl.get(4).getTime() + " / " + tl.get(4).getDuration();
        fill((tl.get(4).isPlaying() ? color(0, 255, 0) : color(255, 0, 0)));
        text(time, w * 4, height - 10);

        time = tl.getTime() + " / " + tl.getDuration();
        fill(0);
        text(time, width - textWidth(time) - 10, 10 + 12);
    }


    function keyPressed() {
        if (key == '1')
            tl.gotoAndPlay(0);
        else if (key == '2')
            tl.gotoAndPlay(50);
        else if (key == '3')
            tl.gotoAndPlay(100);
        else if (key == '4')
            tl.gotoAndPlay(150);
        else if (key == '5')
            tl.gotoAndPlay(200);
        else
            tl.play();
    }

    function mousePressed() {
        // tl.play();
        tl.pause();
    }


    function mouseReleased() {
        tl.resume();
    }

    function mouseDragged() {
        tl.seek(norm(mouseX, 0, width));
    }
    </script>
</body>

</html>