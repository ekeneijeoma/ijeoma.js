<script language="javascript" src="p5.js"></script>
<script language="javascript" src="../build/ijeomamotion.js"></script>
<script language="javascript">
var nodes = [];
var offset = 30;

function setup() {
    createCanvas(512, 512);

    angleMode(DEGREES)
    stroke(100)
    strokeWeight(.25)

    for (var i = 0; i < 100; i++)
        nodes.push(new Node(5, round(random(2, 10)) * offset, 0, 255))
}

function draw() {
    background(255)

    translate(width / 2, height / 2);

    for (var i = 0; i < nodes.length; i++)
        nodes[i].draw()

    for (var i = 0; i < nodes.length; i++)
        for (var j = 0; j < nodes.length; j++)
            if (dist(nodes[i].x, nodes[i].y, nodes[j].x, nodes[j].y) <= offset * 2)
                line(nodes[i].x, nodes[i].y, nodes[j].x, nodes[j].y);
}

Node = function(s, r, color, alpha) {
    this.x = 0;
    this.y = 0;
    this.size = s;
    this.radius = r;
    this.angle = random(360);
    this.color = color;
    this.alpha = alpha;
    this.tween = tween(round(random(500, 5000))).add(this, 'angle', this.angle + ((round(random(100)) % 2 == 0) ? -360 : 360)).repeat().play()

    this.draw = function() {
        this.x = cos(this.angle) * this.radius;
        this.y = sin(this.angle) * this.radius;

        fill(this.color, this.alpha);
        ellipse(this.x, this.y, this.size, this.size);
    }

    return this;
}
</script>
<style>
body {
    padding: 0;
}
</style>
</head>

<body>
</body>