Quad=function(){},Quad.In=function(a){return(a/=1)*a},Quad.Out=function(a){return-(a/=1)*(a-2)},Quad.InOut=function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},Cubic=function(){},Cubic.In=function(a){return(a/=1)*a*a},Cubic.Out=function(a){return(a=a/1-1)*a*a+1},Cubic.InOut=function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},Quart=function(){},Quart.In=function(a){return(a/=1)*a*a*a},Quart.Out=function(a){return-((a=a/1-1)*a*a*a-1)},Quart.InOut=function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},Quint=function(){},Quint.In=function(a){return(a/=1)*a*a*a*a},Quint.Out=function(a){return(a=a/1-1)*a*a*a*a+1},Quint.InOut=function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},Sine=function(){},Sine.In=function(a){return-Math.cos(a/1*(Math.PI/2))+1},Sine.Out=function(a){return Math.sin(a/1*(Math.PI/2))},Sine.InOut=function(a){return-.5*(Math.cos(Math.PI*a/1)-1)},Expo=function(){},Expo.In=function(a){return 0==a?0:Math.pow(2,10*(a/1-1))},Expo.Out=function(a){return 1==a?1:-Math.pow(2,-10*a/1)+1},Expo.InOut=function(a){return 0==a?0:1==a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},Circ=function(){},Circ.In=function(a){return-(Math.sqrt(1-(a/=1)*a)-1)},Circ.Out=function(a){return Math.sqrt(1-(a=a/1-1)*a)},Circ.InOut=function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},Elastic=function(){},Elastic.In=function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(1==(a/=1))return 1;if(c||(c=.3),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/c))},Elastic.Out=function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(1==(a/=1))return 1;if(c||(c=.3),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/c)+1},Elastic.InOut=function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(2==(a/=.5))return 1;if(c||(c=.3*1.5),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return 1>a?-.5*d*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/c):d*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-b)*Math.PI/c)*.5+1},Back=function(){},Back.In=function(a,b){return void 0==b&&(b=1.70158),(a/=1)*a*((b+1)*a-b)},Back.Out=function(a,b){return void 0==b&&(b=1.70158),(a=a/1-1)*a*((b+1)*a+b)+1},Back.InOut=function(a,b){return void 0==b&&(b=1.70158),(a/=.5)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},Bounce=function(){},Bounce.In=function(a){return 1-Bounce.Out(1-a,0)},Bounce.Out=function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},Bounce.InOut=function(a){return.5>a?.5*Bounce.In(2*a,0):.5*Bounce.Out(2*a-1,0)+.5},function(a,b){MOTION=function(a,b){this._name="",this._playTime=0,this._time=0,this._duration="undefined"==typeof a?0:a,this._delayTime="undefined"==typeof b?0:b,this._repeatTime=0,this._repeatDuration=0,this._reverseTime=0,this._timeScale=1,this._isPlaying=!1,this._isRepeating=!1,this._isRepeatingDelay=!1,this._isReversing=!1,this._isSeeking=!1,this._order=0,this._hasController=!1,this._onStart=null,this._onEnd=null,this._onUpdate=null,this._onRepeat=null,MOTION._add(this)},MOTION.REVISION="1",MOTION.RELATIVE="relative",MOTION.ABSOLUTE="absolute",MOTION._motions=[],MOTION._usePerformance=typeof a!==b&&a.performance!==b&&a.performance.now!==b,MOTION._isAutoUpdating=!1,MOTION._time=0,MOTION.playAll=function(){for(var a=0;a<MOTION._motions.length;a++)MOTION._motions[a].play()},MOTION.stopAll=function(){for(var a=0;a<MOTION._motions.length;a++)MOTION._motions[a].stop()},MOTION.resumeAll=function(){for(var a=0;a<MOTION._motions.length;a++)MOTION._motions[a].resume()},MOTION.pauseAll=function(){for(var a=0;a<MOTION._motions.length;a++)MOTION._motions[a].pause()},MOTION.seekAll=function(a){for(var b=0;b<MOTION._motions.length;b++)MOTION._motions[b].seek(a)},MOTION.timeScaleAll=function(a){for(var b=0;b<MOTION._motions.length;b++)MOTION._motions[b].timeScale(a)},MOTION._add=function(a){MOTION._motions.push(a)},MOTION.remove=function(a){var b=MOTION._motions.indexOf(a);MOTION._motions.splice(b,1)},MOTION.removeAll=function(){MOTION._motions=[]},MOTION.update=function(c){MOTION._time=c!==b?c:MOTION._usePerformance?a.performance.now():Date.now();for(var d=0;d<MOTION._motions.length;d++)MOTION._motions[d]._update()},MOTION.autoUpdate=function(){return _isAutoUpdating=!0,this},MOTION.noAutoUpdate=function(){return _isAutoUpdating=!1,this},MOTION.isPlaying=function(){for(var a=0;a<MOTION._motions.length;a++)if(MOTION._motions[a].isPlaying())return!0;return!1},MOTION.prototype.constructor=MOTION,MOTION.prototype.play=function(){return this.dispatchStartedEvent(),this.seek(0),this.resume(),this._repeatTime=0,this},MOTION.prototype.stop=function(){return this.seek(1),this.pause(),this._repeatTime=0,this.dispatchEndedEvent(),this},MOTION.prototype.pause=function(){return this._isPlaying=!1,this._playTime=this._time,this},MOTION.prototype.resume=function(){return this._isPlaying=!0,this._playTime=MOTION._time-this._playTime,this},MOTION.prototype.seek=function(a){return this._isPlaying=!1,this._isSeeking=!0,this._playTime=(this._delayTime+this._duration)*a,this.setTime(this._playTime),this.dispatchChangedEvent(),this._isSeeking=!1,this},MOTION.prototype.repeat=function(a){return this._isRepeating=!0,("undefined"!=typeof a||a)&&(this._repeatDuration=a),this},MOTION.prototype.noRepeat=function(){return this._isRepeating=!1,this._repeatDuration=0,this},MOTION.prototype.reverse=function(){return this._isReversing=!0,this},MOTION.prototype.noReverse=function(){return this._isReversing=!1,this},MOTION.prototype._update=function(a){this._isPlaying&&("undefined"==typeof a?this._updateTime():this.setTime(a),this.dispatchChangedEvent(),this._isInsidePlayingTime(this._time)||this._isInsideDelayingTime(this._time)||(this._reverseTime=0===this._reverseTime?this._duration:0,this._isRepeating&&(0===this._repeatDuration||this._repeatTime<this._repeatDuration)?(this.seek(0),this.resume(),this._repeatTime++,this._isRepeatingDelay||(this._delayTime=0),this.dispatchRepeatedEvent()):this.stop()))},MOTION.prototype._updateTime=function(){this._time=(MOTION._time-this._playTime)*this._timeScale,this._isReversing&&0!==this._reverseTime&&(this._time=this._reverseTime-this._time)},MOTION.prototype.setName=function(a){return this._name=a,this},MOTION.prototype.getName=function(){return this._name},MOTION.prototype.setTime=function(a){return this._time=a*this._timeScale,this._isReversing&&0!==this._reverseTime&&(this._time=this._reverseTime-this._time),this},MOTION.prototype.getTime=function(){return this._time<this._delayTime?0:this._time-this._delayTime},MOTION.prototype.setTimeScale=function(a){return this._timeScale=a,this},MOTION.prototype.timeScale=MOTION.prototype.setTimeScale,MOTION.prototype.getTimeScale=function(){return this._timeScale},MOTION.prototype.getPosition=function(){return this.getTime()/this._duration},MOTION.prototype.position=MOTION.prototype.getPosition,MOTION.prototype.setDuration=function(a){return this._duration=a,this},MOTION.prototype.duration=MOTION.prototype.setDuration,MOTION.prototype.getDuration=function(){return this._duration},MOTION.prototype.getRepeatTime=function(){return this._repeatTime},MOTION.prototype.setDelay=function(a){return this._delayTime=a,this},MOTION.prototype.delay=MOTION.prototype.setDelay,MOTION.prototype.noDelay=function(){return this._delayTime=0,this},MOTION.prototype.getDelay=function(){return this._delayTime},MOTION.prototype.repeatDelay=function(a){return this.repeat(a),this._isRepeatingDelay=!0,this},MOTION.prototype.noRepeatDelay=function(){return this.noRepeat(),this._isRepeatingDelay=!1,this},MOTION.prototype.relative=function(){return this.setValueMode(MOTION.RELATIVE),this},MOTION.prototype.absolute=function(){return this.setValueMode(MOTION.ABSOLUTE),this},MOTION.prototype.setValueMode=function(a){return this._valueMode=a,this},MOTION.prototype.valueMode=MOTION.prototype.setValueMode,MOTION.prototype.getValueMode=function(){return this._valueMode},MOTION.prototype.isDelaying=function(){return this._time<=this._delayTime},MOTION.prototype.isPlaying=function(){return this._isPlaying},MOTION.prototype._isInsideDelayingTime=function(a){return a>=0&&a<this._delayTime},MOTION.prototype._isInsidePlayingTime=function(a){return a>=this._delayTime&&a<this._delayTime+this._duration},MOTION.prototype._isAbovePlayingTime=function(a){return a>=this._delayTime+this._duration},MOTION.prototype.onStart=function(a){return this._onStart=a,this},MOTION.prototype.onEnd=function(a){return this._onEnd=a,this},MOTION.prototype.onUpdate=function(a){return this._onUpdate=a,this},MOTION.prototype.onRepeat=function(a){return this._onRepeat=a,this},MOTION.prototype.dispatchStartedEvent=function(){this._onStart&&this._onStart()},MOTION.prototype.dispatchEndedEvent=function(){this._onEnd&&this._onEnd()},MOTION.prototype.dispatchChangedEvent=function(){this._onUpdate&&this._onUpdate()},MOTION.prototype.dispatchRepeatedEvent=function(){this._onRepeat&&this._onRepeat()},a.MOTION=MOTION,"function"!=typeof Object.create&&(Object.create=function(){var a=function(){};return function(b){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof b)throw TypeError("Argument must be an object");a.prototype=b;var c=new a;return a.prototype=null,c}}())}(window),function(a){a.MotionController=function(b){a.call(this),this._motions=[],this._tweens=[],b&&this.addAll(b)},a.MotionController.prototype=Object.create(a.prototype),a.MotionController.prototype.constructor=a.MotionController,a.MotionController.prototype.reverse=function(){a.prototype.reverse.call(this);for(var b=0;b<this._motions.length;b++)this._motions[b].reverse();return this},a.MotionController.prototype._updateMotions=function(){for(var a=0;a<this._motions.length;a++){var b=this._motions[a];this._isSeeking?b.seek(b._isInsidePlayingTime(this.getTime())?_map(this.getTime(),0,b.getDelay()+b.getDuration(),0,1):b._isAbovePlayingTime(this.getTime())?1:0):b._isInsidePlayingTime(this.getTime())?b.isPlaying()?b._update(this.getTime(),!1):b.play():b.isPlaying()&&b.stop()}},a.MotionController.prototype._updateTweens=function(){for(var b=[],c=[],d=0;d<this._tweens.length;d++)for(var e=this._tweens[d],f=e.get(),g=0;g<f.length;g++){var h=f[g],i=this._valueMode===a.RELATIVE?h._field:e._id+"."+h._field,j=0;if(i in b){j=b[i],j++;var k=c[i];h.setStart(k.getEnd())}else h.setStart();h._order=j,b[i]=j,c[i]=h}},a.MotionController.prototype._updateDuration=function(){for(var a=0;a<this._motions.length;a++)this._duration=Math.max(this._duration,this._motions[a].getDelay()+this._motions[a].getDuration())},a.MotionController.prototype.getPosition=function(){return this.getTime()/this._duration},a.MotionController.prototype.get=function(){return"number"==typeof arguments[0]?this._motions[arguments[0]]:this._motions},a.MotionController.prototype.getCount=function(){return this._motions.length},a.MotionController.prototype.setValueMode=function(b){a.prototype.setValueMode.call(this,b);for(var c=0;c<this._motions.length;c++)this._motions[c].setValueMode(b);return this},a.MotionController.prototype.add=function(a){return this.insert(a,0),this},a.MotionController.prototype.insert=function(b,c){return b.delay(c),b._hasController=!0,a.remove(b),this._motions.push(b),b instanceof a.Tween&&(this._tweens.push(b),this._updateTweens()),this._updateDuration(),this},a.MotionController.prototype.remove=function(b){var b,c;return"number"==typeof arguments[0]?(c=arguments[0],b=this._motions[c]):"object"==typeof arguments[0]&&(b=arguments[0],c=this._motions.indexOf(b)),-1!=c&&this._motions.splice(c,1),b instanceof a.Tween&&(c=this._tweens.indexOf(b),this._tweens.splice(c,1),this._updateTweens()),this._updateDuration(),b.kill(),this},a.MotionController.prototype.addAll=function(a){for(var b=0;b<a.length;b++)this.add(a[b]);return this},a.MotionController.prototype.removeAll=function(){for(var a=0;a<motions.length;a++)this.remove(motions[a]);return this},a.MotionController.prototype.dispatchChangedEvent=function(){this._updateMotions(),a.prototype.dispatchChangedEvent.call(this)},_map=function(a,b,c,d,e){return(a-b)/(c-b)*(e-d)+d}}(MOTION),function(a){a.Parallel=function(b){a.MotionController.call(this,name,b)},a.Parallel.prototype=Object.create(a.MotionController.prototype),a.Parallel.prototype.constructor=a.Parallel,a.Parallel.prototype._updateMotions=function(){for(var a=0;a<this._motions.length;a++){var b=this._motions[a];if(this._isSeeking)b.seek(b._isInsidePlayingTime(this.getTime())?_map(this.getTime(),0,b.getDelay()+b.getDuration(),0,1):b._isAbovePlayingTime(this.getTime())?1:0);else if(b._isInsidePlayingTime(this.getTime()))b.isPlaying()?b._update(this.getTime(),!1):b.play();else if(b.isPlaying())if(this._isReversing&&a<this._motions.length-1)b.seek(1);else for(var a=0;a<this._motions.length;a++)this._motions[a].stop()}}}(MOTION),function(a){_propertyCount=0,a.Property=function(a,b,c){this._object="object"==typeof arguments[0]?a:window,this._field="object"==typeof arguments[0]?b:arguments[0],this._id="Property"+_propertyCount++;var c="object"==typeof arguments[0]?c:arguments[1];this._start=this._object[this._field]=c instanceof Array?c[0]:"undefined"==typeof this._object[this._field]?0:this._object[this._field],this._end=c instanceof Array?c[1]:c,this._position=0,this._order=0},a.Property.prototype.update=function(a){this._position=a,(this._position>0&&this._position<=1||0==this._position&&0==this._order)&&(this._object[this._field]=this._position*(this._end-this._start)+this._start)},a.Property.prototype.getStart=function(){return this._start},a.Property.prototype.setStart=function(a){return this._start="undefined"==typeof a?"undefined"==typeof this._object[this._field]?0:this._object[this._field]:a,this},a.Property.prototype.start=a.Property.prototype.setStart,a.Property.prototype.getEnd=function(){return this._end},a.Property.prototype.setEnd=function(a){return this._end=a,this},a.Property.prototype.end=a.Property.prototype.setEnd,a.Property.prototype.getPosition=function(){return this._position},a.Property.prototype.position=a.Property.prototype.getPosition,a.Property.prototype.setPosition=function(a){return this._position=a,this.update(),this},a.Property.prototype.getValue=function(){return this._object[this._field]},a.Property.prototype.value=a.Property.prototype.getValue,a.NumberProperty=function(b,c,d){a.Property.call(this,b,c,d)},a.NumberProperty.prototype=Object.create(a.Property.prototype),a.NumberProperty.prototype.constrctor=a.NumberProperty}(MOTION),function(a){a.Sequence=function(b){a.MotionController.call(this,b),this._current=null,this._currentIndex=0},a.Sequence.prototype=Object.create(a.MotionController.prototype),a.Sequence.prototype.constructor=a.Sequence,a.Sequence.prototype.add=function(b){return a.MotionController.prototype.insert.call(this,b,this._duration),this},a.Sequence.prototype.get=function(){return"number"==typeof arguments[0]?this._motions[arguments[0]]:this._current},a.Sequence.prototype.getIndex=function(){return this._currentIndex},a.MotionController.prototype.dispatchChangedEvent=function(){if(this._updateMotions(),this._isPlaying)for(var b=0;b<this._motions.length;b++){var c=this._motions[b];if(c._isInsidePlayingTime(this._time)){this._currentIndex=b,this._current=c;break}}a.prototype.dispatchChangedEvent.call(this)}}(MOTION),function(a){a.Keyframe=function(b,c){a.MotionController.call(this,c),this.delay(b)},a.Keyframe.prototype=Object.create(a.MotionController.prototype),a.Keyframe.prototype.constructor=a.Keyframe,a.Timeline=function(){a.MotionController.call(this)},a.Timeline.prototype=Object.create(a.MotionController.prototype),a.Timeline.prototype.constructor=a.Timeline,a.Timeline.prototype.play=function(){return"undefined"==typeof arguments[0]?a.MotionController.prototype.play.call(this):"number"==typeof arguments[0]?(this.seek(arguments[0]/this._duration),this.resume()):"object"==typeof arguments[0]&&(this.seek(arguments[0].getPlayTime()/this._duration),this.resume()),this},a.Timeline.prototype.stop=function(){return"undefined"==typeof arguments[0]?a.MotionController.prototype.stop.call(this):"number"==typeof arguments[0]?(this.seek(arguments[0]/this._duration),this.pause()):"object"==typeof arguments[0]&&(this.seek(arguments[0].getPlayTime()/this._duration),this.pause()),this},a.Timeline.prototype.add=function(b,d){if(b instanceof a.Keyframe)"undefined"==typeof d?this.insert(b,b.getDelay()):this.insert(b,d);else if("undefined"==typeof d)this._motions[this._motions.indexOf(c)]=c;else{var e=new a.Keyframe(d+"");e.add(b),this.insert(e,d)}return this},a.Timeline.prototype.get=function(){if("number"==typeof arguments[0])return this._motions[arguments[0]];for(var a=[],b=0;b<this._motions.length;b++)this._motions[b].isInsidePlayingTime(this.getTime())&&a.push(this._motions[b]);return 0==a.length?null:a}}(MOTION),function(a){a.Tween=function(){this._properties=[],this._propertyMap=[],this._valueMode=a.ABSOLUTE,"object"==typeof arguments[0]?(a.call(this,arguments[3],arguments[4]),this.addProperty(arguments[0],arguments[1],arguments[2]),this.setEasing(arguments[5])):"string"==typeof arguments[0]?(a.call(this,arguments[2],arguments[3]),this.addProperty(arguments[0],arguments[1]),this.setEasing(arguments[4])):(a.call(this,arguments[0],arguments[1]),this.setEasing(arguments[2]))},a.Tween.prototype=Object.create(a.prototype),a.Tween.prototype.constrctor=a.Tween,a.Tween.prototype._updateProperties=function(){for(var a=0;a<this._properties.length;a++)this._properties[a].update(this._easing(this.getPosition()))},a.Tween.prototype.addProperty=function(b,c,d){return p=arguments[0]instanceof a.Property?arguments[0]:"object"==typeof arguments[0]?new a.NumberProperty(b,c,d):new a.NumberProperty(arguments[0],arguments[1]),this._properties.push(p),this._propertyMap[p._field]=p,this},a.Tween.prototype.add=a.Tween.prototype.addProperty,a.Tween.prototype.remove=function(){var a,b;return"number"==typeof arguments[0]?(b=arguments[0],a=this._properties[b]):"name"==typeof arguments[0]?(a=this._propertyMap[arguments[0]],b=this._properties.indexOf(a)):"object"==typeof arguments[0]&&(a=arguments[0],b=this._properties.indexOf(a)),b&&-1!=b&&this._properties.splice(b,1),a&&a.getName()in this._propertyMap&&delete this._propertyMap[c.getName()],this},a.Tween.prototype.getProperty=function(){return"string"==typeof arguments[0]?this._propertyMap[arguments[0]]:"number"==typeof arguments[0]?this._properties[arguments[0]]:this._properties},a.Tween.prototype.get=a.Tween.prototype.getProperty,a.Tween.prototype.getCount=function(){return this._properties.length},a.prototype.setEasing=function(a){return this._easing="undefined"==typeof a?function(a){return a}:a,this},a.prototype.easing=a.prototype.setEasing,a.prototype.getEasing=function(){return this._easing},a.prototype.noEasing=function(){return this.setEasing(function(a){return a}),this},a.Tween.prototype.dispatchStartedEvent=function(){if(this._valueMode==a.RELATIVE)for(var b=0;b<this._properties.length;b++)this._properties[b].setStart();this._onStart&&this._onStart(this._object)},a.Tween.prototype.dispatchEndedEvent=function(){this._onEnd&&this._onEnd(this._object)},a.Tween.prototype.dispatchChangedEvent=function(){this._updateProperties(),this._onUpdate&&this._onUpdate(this._object)},a.Tween.prototype.dispatchRepeatedEvent=function(){this._onRepeat&&this._onRepeat(this._object)}}(MOTION);